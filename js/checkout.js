"use strict";function escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}function getCart(){return JSON.parse(localStorage.getItem("cart"))||[]}function clearCart(){localStorage.removeItem("cart")}const cart=getCart(),itemsContainer=document.getElementById("order-items"),totalEl=document.getElementById("order-total");let total=0;if(0===cart.length)itemsContainer.innerHTML="<p>Кошик порожній</p>";else{function t(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t.name&&"number"==typeof t.price&&t.price>0))}t(cart)?(itemsContainer.innerHTML=cart.map((t=>`\n\t\t\t<div class="order-item">\n\t\t\t\t<img src="${escapeHtml(t.img)}" alt="${escapeHtml(t.name)}">\n\t\t\t\t<div>\n\t\t\t\t\t<p><strong>${escapeHtml(t.name)}</strong></p>\n\t\t\t\t\t<p>${t.price} грн</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`)).join(""),cart.forEach((t=>{total+=t.price}))):itemsContainer.innerHTML="<p>Кошик містить недійсні дані</p>",totalEl.textContent=total}document.getElementById("order-form").addEventListener("submit",(t=>{if(t.preventDefault(),0===cart.length)return void alert("Кошик порожній");const e=new FormData(t.target),n={customer:Object.fromEntries(e),items:cart,total:total,date:(new Date).toLocaleString()};console.log("Заявка:",n),alert("Дякуємо! Заявка відправлена ❤️"),clearCart(),window.location.href="index.html"}));